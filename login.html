<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tela de Login</title>
    <link href="https://fonts.googleapis.com/css2?family=Roboto&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/estilo_login.css">
    <style>
        #message-carousel {
            transition: opacity 0.5s;
        }
    </style>
</head>

<body>
    <div class="container">
        <div class="left-panel">
            <h1>Bem-vindo!!!</h1>
            <p id="message-carousel">Estamos quase lá... sua doação pode salvar vidas!</p>
        </div>

        <div class="right-panel">
            <h2>Continuar com:</h2>
            <div class="social-login" style="cursor: pointer;">
                <img src="https://img.icons8.com/color/48/000000/google-logo.png" alt="Google">
            </div>
            <p class="divider">ou use seu e-mail</p>
            <form>
                <input type="text" placeholder="Nome" required>
                <input type="email" placeholder="E-mail" required>
                <input type="password" placeholder="Senha" required>
                <button type="submit" class="submit-btn">Cadastrar</button>
            </form>
        </div>
    </div>

    <!-- Firebase + Login -->
    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/11.6.0/firebase-app.js";
        import { getAuth, GoogleAuthProvider, signInWithPopup, createUserWithEmailAndPassword } from "https://www.gstatic.com/firebasejs/11.6.0/firebase-auth.js";

        const firebaseConfig = {
            apiKey: "AIzaSyDul81cb5or7oR8HCs5I_Vw-SHm-ORHshI",
            authDomain: "teste-2067f.firebaseapp.com",
            projectId: "teste-2067f",
            storageBucket: "teste-2067f.firebasestorage.app",
            messagingSenderId: "160483034987",
            appId: "1:160483034987:web:944eb621b02efea11b2e2e"
        };

        const app = initializeApp(firebaseConfig);
        const auth = getAuth(app);
        const provider = new GoogleAuthProvider();

        // Login com Google
        document.querySelector('.social-login').addEventListener('click', () => {
            signInWithPopup(auth, provider)
                .then((result) => {
                    const user = result.user;
                    alert(`Bem-vindo, ${user.displayName}`);
                    window.location.href = "index.html"; // redireciona
                })

        });

        // Cadastro com Email/Senha
        document.querySelector("form").addEventListener("submit", (e) => {
            e.preventDefault();

            const email = document.querySelector('input[type="email"]').value;
            const senha = document.querySelector('input[type="password"]').value;

            createUserWithEmailAndPassword(auth, email, senha)
                .then((userCredential) => {
                    alert("Usuário cadastrado com sucesso!");
                    window.location.href = "index.html"; // redireciona
                })

        });
    </script>

    <!-- Script do carrossel de mensagens -->
    <script>
        const messages = [
            "Estamos quase lá... sua doação pode salvar vidas!",
            "Doe sangue, compartilhe vida!",
            "Você é o tipo certo de herói.",
            "Uma bolsa de sangue pode salvar até 4 vidas.",
            "A sua atitude hoje pode mudar o amanhã de alguém.",
            "Doar sangue é um ato de amor.",
            "Um pequeno gesto. Um grande impacto.",
            "Você tem o poder de salvar vidas. Use-o.",
            "Seja a esperança de alguém hoje.",
            "Doe sangue, doe vida, doe esperança."
        ];

        const messageElement = document.getElementById('message-carousel');
        let index = 0;

        setInterval(() => {
            messageElement.style.opacity = 0;

            setTimeout(() => {
                index = (index + 1) % messages.length;
                messageElement.textContent = messages[index];
                messageElement.style.opacity = 1;
            }, 500);
        }, 4000);
    </script>
</body>

</html>