<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Perfil - Sangue Solidário</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/perfil.css" />
    <link rel="stylesheet" href="css/estilos.css" />
    <link rel="stylesheet" href="css/chatbot.css" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
    />
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css"
    />
    <script src="https://unpkg.com/@lottiefiles/lottie-player@latest/dist/lottie-player.js"></script>
  </head>
  <body>
    <header class="header-moderno">
      <div class="logo">
        <img src="img/icone.png" alt="Logo Sangue Solidário" />
        <span>Sangue Solidário</span>
      </div>

      <!-- Menu de Navegação -->
      <nav class="menu-centralizado">
        <a href="index.html">Início</a>
        <a href="#informacoes-doacao">Sobre a Doação</a>
        <a href="#secao-perfil-doador">Perfil do Doador</a>
        <a href="campanhas_para_usuarios.html" class="cta-button"
          >Campanhas Ativas</a
        >
      </nav>

      <!-- Área de Autenticação do Usuário -->
      <div id="user-header-options">
        <a href="login.html" class="login">
          <img src="img/login.png" alt="Ícone de login" class="icon-login" />
          Entrar
        </a>
      </div>
    </header>

    <!-- Conteúdo Principal -->
    <main class="perfil-container">
      <!-- Seção de Atualização de Dados -->
      <section class="atualizacao-dados">
        <div class="botao-container">
          <button class="perfil-btn" id="abrirFormulario">
            Atualizar seus dados
          </button>
        </div>
      </section>

      <!-- Seção de Informações -->
      <section class="info-section">
        <!-- Container de Informações do Local e Campanhas -->
        <div class="info-campanhas-container">
          <!-- Informações do Local -->
          <div id="localInfo" class="info-card-container">
            <div class="profile-card">
              <h3>Buscando informações do local...</h3>
            </div>
          </div>

          <!-- Botões de Ação -->
          <div class="botoes-container">
            <button class="form-button" id="btnCadastrarCampanha">
              <i class="fas fa-plus-circle"></i>
              Cadastrar Campanha
            </button>
            <button class="form-button" id="btnEditarCampanhas">
              <i class="fas fa-edit"></i>
              Editar Campanhas
            </button>
            <button class="form-button" id="btnCadastrarUsuario">
              <i class="fas fa-user-plus"></i>
              Cadastrar Usuário
            </button>
            <button class="form-button" id="btnEditarLocal">
              <i class="fas fa-building"></i>
              Editar Local
            </button>
          </div>

          <!-- Lista de Campanhas -->
          <div id="campanhasContainer" class="campanhas-lista" style="display: none;">
            <div class="info-card">
              <div class="info-item header-campanhas">
                <i class="fas fa-bullhorn"></i>
                <h2>Campanhas Ativas</h2>
                <button
                  id="refreshCampanhas"
                  title="Atualizar lista"
                  class="refresh-button"
                >
                  <i class="fas fa-sync-alt"></i>
                </button>
              </div>
              <div class="info-item search-campanhas">
                <i class="fas fa-search"></i>
                <input
                  type="text"
                  id="buscaCampanha"
                  placeholder="Buscar campanha pelo título..."
                />
              </div>
              <div class="info-item lista-campanhas">
                <ul id="listaCampanhas"></ul>
              </div>
            </div>
          </div>
        </div>

        <!-- Container de Informações do Usuário -->
        <div class="info-campanhas-container">
          <!-- Informações de Doação -->
          <div id="userDonationInfo" class="info-card-container" style="display: none">
            <div class="profile-card">
              <h3>Doações</h3>
              <div id="dadosDoacao">Carregando dados da doação...</div>
            </div>
          </div>

          <!-- Perfil do Usuário -->
          <div id="profileInfo" class="info-card-container">
            <div class="profile-card">
              <h3>Quase lá...</h3>
              <p>Você precisa atualizar seus dados no botão acima para continuar.</p>
            </div>
          </div>
        </div>
      </section>
    </main>

    <!-- Chatbot -->
    <div class="chat-icon" id="chat-icon">
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" d="M20.25 8.511c.884.284 1.5 1.128 1.5 2.097v4.286c0 1.136-.847 2.1-1.98 2.193-.34.027-.68.052-1.02.072v3.091l-3-3c-1.354 0-2.694-.055-4.02-.163a2.115 2.115 0 0 1-.825-.242m9.345-8.334a2.126 2.126 0 0 0-.476-.095 48.64 48.64 0 0 0-8.048 0c-1.131.094-1.976 1.057-1.976 2.192v4.286c0 .837.46 1.58 1.155 1.951m9.345-8.334V6.637c0-1.621-1.152-3.026-2.76-3.235A48.455 48.455 0 0 0 11.25 3c-2.115 0-4.198.137-6.24.402-1.608.209-2.76 1.614-2.76 3.235v6.226c0 1.621 1.152 3.026 2.76 3.235.577.075 1.157.14 1.74.194V21l4.155-4.155" />
        </svg>
    </div>
    <div class="chat-container" id="chat-container">
        <div class="chat-header">
            <h3>Assistente HEMOPI</h3>
            <button class="chat-toggle" id="chat-toggle">×</button>
        </div>
        <div class="chat-messages" id="chat-messages"></div>
    </div>

    <script src="js/info_doador.js" type="module"></script>

    <script src="js/campanhas_no_perfil.js" type="module"></script>
    <script src="js/perfil.js" type="module"></script>
    <script src="js/header.js" type="module"></script>
    <script src="js/script.js"></script>
    <script type="module" src="js/chatbot-init.js"></script>
  </body>
</html>
